<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_SocialLogin
 * @copyright   Copyright (c) 2016 Mageplaza (http://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */
?>

<style>
    .social-btn .btn-social div {
        width: 100%;
        border-right: 1px dashed #7d7d7d;
    }
    .btn-social > :first-child {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 32px;
        line-height: 34px;
        font-size: 1.6em;
        text-align: center;
    }
    .social-btn .btn-social {
        border: 0;
    }
    .social-btn .btn-social {
        border: 0;
    }
    .social-btn .btn-social {
        width: 100%;
        text-align: center;
    }
    .social-btn .btn-social {
        width: 100%;
        height: 70px;
        display: block;
        text-decoration: none;
        margin-bottom: 0;
        font-size: 14px;
        font-weight: normal;
        line-height: 1.42857143;
        vertical-align: middle;
        touch-action: manipulation;
        cursor: pointer;
        user-select: none;
        background-image: none;
        background: #fff !important;
    }
    .btn-google {
        color: #fff;
        background-color: #dd4b39;
        border-color: rgba(0, 0, 0, 0.2);
    }
    .btn-social {
        position: relative;
        padding-left: 44px;
        text-align: left;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
</style>
<?php
$availableSocials = $block->getAvailableSocials();
?>
<?php if ($block->canShow() && sizeof($availableSocials)): ?>
    <div class="block social-login-authentication-channel account-social-login" style="display:block;">
        <div class="block-content">

            <?php foreach ($availableSocials as $key => $social): ?>
                <div class="actions-toolbar social-btn social-btn-actions-toolbar <?= $key ?>-login">
                    <a class="btn btn-block btn-social btn-<?= $block->getBtnKey($key) ?>"
                       data-mage-init='{"socialProvider": {"url": "<?php echo $social['login_url'] ?>", "label": "<?php echo __('Login By %1', $social['label']) ?>"}}'>
                        <span class="fa fa-<?= $block->getBtnKey($key) ?>"></span>
                        <?php echo __('Sign in with %1', $social['label']) ?>
                    </a>
                </div>
            <?php endforeach; ?>

        </div>
    </div>
<?php endif; ?>

